[
  {
    "objectID": "Slides.html#census-api",
    "href": "Slides.html#census-api",
    "title": "Accessing Census Data in R through APIs",
    "section": "Census API",
    "text": "Census API\n\nWhat is the Census API?\n\nAn API that gives access to data from many programs\n\nPrograms include:\n\nAmerican Community Survey: tables and microdata\nDecennial Census\nPopulation Estimates and Projections\nAnd more\n\nCensus documentation"
  },
  {
    "objectID": "Slides.html#useful-r-packages",
    "href": "Slides.html#useful-r-packages",
    "title": "Accessing Census Data in R through APIs",
    "section": "Useful R packages",
    "text": "Useful R packages\n\ncensusapi\n\nAny data program available on Census API\nData is not cleaned\n\ntidycensus\n\nACS tables, ACS microdata, Decennial tables, PEP tables, and ACS migration flow data\nWrappers are written so you don’t have to understand the API details\nData is somewhat cleaned (e.g. -555555555 is changed to missing as it is a missing code)"
  },
  {
    "objectID": "Slides.html#census-geographies",
    "href": "Slides.html#census-geographies",
    "title": "Accessing Census Data in R through APIs",
    "section": "Census geographies",
    "text": "Census geographies\nData may not be available for all geographies. More years of data generally means smaller areas available"
  },
  {
    "objectID": "Slides.html#motivating-example",
    "href": "Slides.html#motivating-example",
    "title": "Accessing Census Data in R through APIs",
    "section": "Motivating example",
    "text": "Motivating example\nFind number of housing units by occupancy status in each block group in Durham County, NC from ACS 2019-2023 data\n\nyear_select &lt;- 2023"
  },
  {
    "objectID": "Slides.html#api-keys",
    "href": "Slides.html#api-keys",
    "title": "Accessing Census Data in R through APIs",
    "section": "API keys",
    "text": "API keys\n\nAn API key is needed and needs to be requested1\nBad practice to store an API key in your code\nInstall the API key locally to your .Renviron file\nOnly need to do this per device you use\n\ntidycensus::census_api_key(\"abcdefghijkl\", overwrite = TRUE, install = TRUE)\nRetrieve using:\nSys.getenv(\"CENSUS_API_KEY\")\nhttps://api.census.gov/data/key_signup.html"
  },
  {
    "objectID": "Slides.html#workflow",
    "href": "Slides.html#workflow",
    "title": "Accessing Census Data in R through APIs",
    "section": "Workflow",
    "text": "Workflow\n\nUse listCensusApis to find the API you are looking for\nFind the variables\n\n\nUse listCensusMetadata to find out more information about that specific API, or\nUse makeVarlist to identify variables you want to extract (optional)\n\n\nUse getCensus to query the data"
  },
  {
    "objectID": "Slides.html#all-the-apis",
    "href": "Slides.html#all-the-apis",
    "title": "Accessing Census Data in R through APIs",
    "section": "All the APIs",
    "text": "All the APIs\n\nlibrary(censusapi)\n\nallAPIs &lt;- listCensusApis(vintage = year_select)\n\nhead(allAPIs)\n\n                                                                                        title\n1                                                                  ACS 1-Year Detailed Tables\n2                                                              ACS 1-Year Comparison Profiles\n3                                                                    ACS 1-Year Data Profiles\n4              2023 American Community Survey: 1-Year Estimates - Public Use Microdata Sample\n5  2023 American Community Survey: 1-Year Estimates - Public Use Microdata Sample Puerto Rico\n6 2023 ACS 1-Year Supplemental Data Profiles for Congressional Redistricting - 119th Congress\n                         name vintage      type  temporal     spatial\n1                    acs/acs1    2023 Aggregate 2023/2023          US\n2           acs/acs1/cprofile    2023 Aggregate 2023/2023          US\n3            acs/acs1/profile    2023 Aggregate 2023/2023          US\n4               acs/acs1/pums    2023 Microdata 2023/2023          US\n5             acs/acs1/pumspr    2023 Microdata 2023/2023 Puerto Rico\n6 acs/acs1/sdataprofile/cd119    2023 Aggregate 2023/2023          US\n                                                          url\n1                    http://api.census.gov/data/2023/acs/acs1\n2           http://api.census.gov/data/2023/acs/acs1/cprofile\n3            http://api.census.gov/data/2023/acs/acs1/profile\n4               http://api.census.gov/data/2023/acs/acs1/pums\n5             http://api.census.gov/data/2023/acs/acs1/pumspr\n6 http://api.census.gov/data/2023/acs/acs1/sdataprofile/cd119\n               modified\n1 2024-04-24 06:11:27.0\n2 2024-04-24 06:11:11.0\n3 2024-04-24 06:11:14.0\n4 2024-05-13 12:39:49.0\n5 2024-05-13 12:39:46.0\n6 2024-09-30 11:11:12.0\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           description\n1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                The American Community Survey (ACS) is an ongoing survey that provides data every year -- giving communities the current information they need to plan investments and services. The ACS covers a broad range of topics about social, economic, demographic, and housing characteristics of the U.S. population. Much of the ACS data provided on the Census Bureau's Web site are available separately by age group, race, Hispanic origin, and sex. Summary files, Subject tables, Data profiles, and Comparison profiles are available for the nation, all 50 states, the District of Columbia, Puerto Rico, every congressional district, every metropolitan area, and all counties and places with populations of 65,000 or more. Detailed Tables contain the most detailed cross-tabulations published for areas 65k and more. The data are population counts. There are over 31,000 variables in this dataset.\n2                                                                                                                                                                                                                                                                                                                                                                                                                                  The American Community Survey (ACS) is an ongoing survey that provides data every year -- giving communities the current information they need to plan investments and services. The ACS covers a broad range of topics about social, economic, demographic, and housing characteristics of the U.S. population. Much of the ACS data provided on the Census Bureau's Web site are available separately by age group, race, Hispanic origin, and sex. Summary files, Subject tables, Data profiles, and Comparison profiles are available for the nation, all 50 states, the District of Columbia, Puerto Rico, every congressional district, every metropolitan area, and all counties and places with populations of 65,000 or more. Comparison profiles are similar to Data profiles but also include comparisons with past-year data. The current year data are compared with each of the last four years of data and include statistical significance testing. There are over 1,000 variables in this dataset.\n3 The American Community Survey (ACS) is a US-wide survey designed to provide communities a fresh look at how they are changing. The ACS replaced the decennial census long form in 2010 and thereafter by collecting long form type information throughout the decade rather than only once every 10 years. Questionnaires are mailed to a sample of addresses to obtain information about households -- that is, about each person and the housing unit itself. The American Community Survey produces demographic, social, housing and economic estimates in the form of 1 and 5-year estimates based on population thresholds. The strength of the ACS is in estimating population and housing characteristics. The data profiles provide key estimates for each of the topic areas covered by the ACS for the us, all 50 states, the District of Columbia, Puerto Rico, every congressional district, every metropolitan area, and all counties and places with populations of 65,000 or more. Although the ACS produces population, demographic and housing unit estimates, it is the Census Bureau's Population Estimates Program that produces and disseminates the official estimates of the population for the US, states, counties, cities and towns, and estimates of housing units for states and counties. For 2010 and other decennial census years, the Decennial Census provides the official counts of population and housing units.\n4                                                                                                                                                                                                                                                                                                                        The American Community Survey (ACS) Public Use Microdata Sample (PUMS) contains a sample of responses to the ACS. The ACS PUMS dataset includes variables for nearly every question on the survey, as well as many new variables that were derived after the fact from multiple survey responses (such as poverty status). Each record in the file represents a single person, or, in the household-level dataset, a single housing unit. In the person-level file, individuals are organized into households, making possible the study of people within the contexts of their families and other household members. Individuals living in Group Quarters, such as nursing facilities or college facilities, are also included on the person file. ACS PUMS data are available at the nation, state, and Public Use Microdata Area (PUMA) levels. PUMAs are special non-overlapping areas that partition each state into contiguous geographic units containing roughly 100,000 people each. ACS PUMS files for an individual year, such as 2022, contain data on approximately one percent of the United States population.\n5              The Public Use Microdata Sample (PUMS) for Puerto Rico (PR) contains a sample of responses to the Puerto Rico Community Survey (PRCS). The PRCS is similar to, but separate from, the American Community Survey (ACS). The PRCS collects data about the population and housing units in Puerto Rico. Puerto Rico data is not included in the national PUMS files. It is published as a state equivalent file and has a State FIPS code of \"72\". The file includes variables for nearly every question on the survey, as well as many new variables that were derived after the fact from multiple survey responses (such as poverty status). Each record in the file represents a single person, or, in the household-level dataset, a single housing unit. In the person-level file, individuals are organized into households, making possible the study of people within the contexts of their families and other household members. Individuals living in Group Quarters, such as nursing facilities or college facilities, are also included on the person file. Data are available at the state and Public Use Microdata Area (PUMA) levels. PUMAs are special non-overlapping areas that partition Puerto Rico into contiguous geographic units containing roughly 100,000 people each. The Puerto Rico PUMS file for an individual year, such as 2022, contain data on approximately one percent of the Puerto Rico population.\n6                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               The American Community Survey (ACS) is an ongoing survey that provides data every year -- giving communities the current information they need to plan investments and services. The ACS covers a broad range of topics about social, economic, demographic, and housing characteristics of the U.S. population. The 119th Congressional District Data Profiles are available for the nation, all 50 states, the District of Columbia, and Puerto Rico (at large). Data profiles contain broad social, economic, housing, and demographic information.\n                        contact\n1 acso.users.support@census.gov\n2 acso.users.support@census.gov\n3 acso.users.support@census.gov\n4 acso.users.support@census.gov\n5 acso.users.support@census.gov\n6 acso.users.support@census.gov"
  },
  {
    "objectID": "Slides.html#finding-our-api",
    "href": "Slides.html#finding-our-api",
    "title": "Accessing Census Data in R through APIs",
    "section": "Finding our API",
    "text": "Finding our API"
  },
  {
    "objectID": "Slides.html#find-variables",
    "href": "Slides.html#find-variables",
    "title": "Accessing Census Data in R through APIs",
    "section": "Find variables",
    "text": "Find variables\n\nfindvars &lt;- makeVarlist(name = \"acs/acs5\", vintage = year_select, find = \"occupancy\", output = \"dataframe\", varsearch = \"concept\")"
  },
  {
    "objectID": "Slides.html#specify-found-variables",
    "href": "Slides.html#specify-found-variables",
    "title": "Accessing Census Data in R through APIs",
    "section": "Specify found variables",
    "text": "Specify found variables\n\nmyvars &lt;- findvars %&gt;%\n  filter(group == \"B25002\") %&gt;%\n  arrange(name) %&gt;%\n  pull(name)\nmyvars\n\n[1] \"B25002_001E\" \"B25002_002E\" \"B25002_003E\"\n\n\n\nIf you want margin of errors as well, add those. These have same variable name but end in “M” instead of “E”\n\nmyvars &lt;- c(myvars, str_replace(myvars, \"E$\", \"M\")) %&gt;% sort()\nmyvars\n\n[1] \"B25002_001E\" \"B25002_001M\" \"B25002_002E\" \"B25002_002M\" \"B25002_003E\"\n[6] \"B25002_003M\""
  },
  {
    "objectID": "Slides.html#get-the-data",
    "href": "Slides.html#get-the-data",
    "title": "Accessing Census Data in R through APIs",
    "section": "Get the data",
    "text": "Get the data\n\nvocc_durham &lt;- getCensus(\n  name = \"acs/acs5\", vintage = year_select, vars = myvars,\n  region = \"block group:*\", regionin = \"state:37+county:063\",\n  show_call = FALSE, convert_variables = TRUE)\n\nhead(vocc_durham)\n\n  state county  tract block_group B25002_001E B25002_001M B25002_002E\n1    37    063 000101           1         668         158         668\n2    37    063 000101           2         835         169         835\n3    37    063 000102           1        1010         163         890\n4    37    063 000102           2         375         121         344\n5    37    063 000102           3         184          50         184\n6    37    063 000102           4         251          90         221\n  B25002_002M B25002_003E B25002_003M\n1         158           0          14\n2         169           0          14\n3         158         120          95\n4         116          31          38\n5          50           0          14\n6          74          30          48"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Accessing Census Data in R through APIs",
    "section": "",
    "text": "This talk will give an overview of Census APIs available and how to find out which surveys have data available through the Census API. Brief examples will be given on how to use the censusapi R package which can access any data in the API. The tidycensus R package specifically can access ACS tables, ACS microdata, Decennial tables, PEP tables, and ACS migration flow data. This tutorial will give examples of how to find relevant variables from ACS tables or decennial data using the tidycensus package. Examples of getting the data will be provided and how to easily make maps of the data."
  }
]